<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>
### Async/Await
12. **Question 12:** Create an async function that fetches a number from an API, adds `5` to it, and logs the result.

15. **Question 15:** Write an async function that uses `await` to wait for multiple Promises to resolve using `Promise.all`, and returns the sum of their resolved values.

17. **Question 17:** Write an async function that fetches an array of numbers from an API, calculates the sum of the numbers, and logs the result.

19. **Question 20:** Write an async function that fetches two numbers from two different APIs, adds them, and logs the result.
Certainly! Here are 20 numerical questions to help you practice JavaScript promises, error handling, and related concepts:

<br>

</p>


    <script>
// //ques1
// let res= new Promise(function(resolve, reject){
//     setTimeout(() => {
//         resolve(42);
//     }, 3000);
// })
// // console.log(res)

// //ques2
// // let rej= new Promise(function(resolve, reject){
// //     setTimeout(() => {
// //         reject("Calculation error!")
// //     }, 1500);
// // })
// // console.log(rej)

// //ques3
// function addAsync(a,b){
//     return new Promise(function(resolve, reject){
//         setTimeout(() => {
//         resolve(a+b)
//         }, 2000);
//     })
// }
// // addAsync(2,4).then(value=>{
// //     console.log(value)
// // })
// // console.log(addAsync(2,5))

// //ques4
// let sol4= new Promise(function(resolve, reject){
//     resolve([1,2,3,4,5])
// })
// // sol4.then(res=>{
// //     res.forEach(e => {
// //         console.log(e)
// //     });
// // })
// //my aproach
// let arr = [1, 3, 56, 7, 3, 4, 64, 6];
// let so4 = new Promise(function(resolve, reject) {
//     setTimeout(() => {
//         resolve(arr);
//     }, 500);
// });

// // so4.then(res => {
// //     res.forEach(e => {
// //         console.log(e);
// //     });
// // });


// //ques5
// let sol5= new Promise(function(resolve, reject){
//     setTimeout(() => {
//         resolve(Math.floor(Math.random()*11))
//     }, 500);
// })
// // console.log(sol5)

// //ques6
// let sol6= new Promise(function (resolve, reject){
//     resolve(5)
// })
// console.log(sol6)
// sol6.then(result=>{
//     return new Promise(function(resolve, reject){
//         let a= result*2
//         console.log(a)
//         resolve(a)
//     })
// }).then(value=>{
//     return new Promise(function(resolve, reject){
//         let b= value*2
//         console.log(b)
//         resolve(b)
//     })
// })

// //ques7
// let sol7= new Promise((resolve, reject)=>{
// resolve(2+3)
// })
// sol7.then(value=>{
//     return new Promise((resolve, reject)=>{
//         resolve(value*2)
//     })
// }).then(value=>{
//     return new Promise((resolve, reject)=>{
//         let a=value-4
//         console.log(a)
//         resolve(a)
//     })
// })

// //ques8
// let sol8= new Promise((resolve, reject)=>{
// resolve(2)
// })
// sol8.then(value=>{
//     return new Promise((resolve, reject)=>{
//         resolve(value*value)
//         console.log(value)
//     })
// }).then(value=>{
//     return new Promise((resolve, reject)=>{
//         let a=Math.sqrt(value)
//         console.log(a)
//         resolve(a)
//     })
// })

// //ques9
// let sol9= new Promise((resolve, reject)=>{
//     let a= Math.floor(Math.random()*11)
//     console.log(a+" is any random no.")
// resolve(a)
// })
// sol9.then(value=>{
//     return new Promise((resolve, reject)=>{
//         let b= value*2
//         resolve(b)
//         console.log(b + " is double of that no")
//     })
// })

// //ques10
// let sol10= new Promise((resolve, reject)=>{
// resolve([1,2,3])
// })
// sol10.then(value=>{
//     return new Promise((resolve, reject)=>{
// value.push(4)
// resolve(value)
//     })
// }).then(res=>{
//     console.log(res)
// })

// async function harry(){
//     let delhiw= new Promise((resolve, reject)=>{
//         setTimeout(() => {
//             resolve ("47deg")
//         }, 2000);
//     })

//     let banglw=  new Promise((resolve, reject) => {
//     setTimeout(() => {
//         resolve("45deg")
//     }, 5000);
//     })

//     console.log("fetching weather")
//     let dW= await delhiw
//     console.log("fetched delhi weather" + dW)
//     console.log("fetching bangl weather")
//     let bW= await banglw
//     console.log("fetched bangl weather" + bW)
//     return [dW, bW]
// }
// // let a= harry()
// // a.then((value)=>{
// //     console.log(value)
// // })
// const cherry= async ()=>{
//     console.log("hey,")
// }
// const main= async()=>{
//     let a= await harry()
//     let b= await cherry()
// }
// main()

// //ques11
// async function myNo1(){
//     let a= new Promise((resolve, reject)=>{
//         setTimeout(() => {
//             resolve(100)
//         }, 2000);
//     })
//     let b= await a
//     console.log(b)
// }
// myNo1()


// //ques12
// async function sol12(){
//     let a= new Promise((resolve, reject) => {
//         resolve(Math.floor(Math.random()*10));
//     });
//     let b= await a;
//     return b;
// }
// sol12().then(value=>{
//     let a= value+5
//     console.log(a+"sol12")
// })

// //ques13
// async function myNo(){
//     let prom= new Promise((resolve, reject)=>{
//         setTimeout(() => {
//             resolve(7)
//             // console.log(7)
//         }, 3000);
//     })
//     let a= await prom
//     return a
// }
// // myNo().then(value=>{
// //     console.log(value)
// // })


// //ques14
// async function random(){
//     let pro= new Promise((resolve, reject) => {
//         let a=Math.floor(Math.random()*20)+1;
//         resolve(a)
//     })
//     let b= await pro;
//     console.log(b+" sol14")
// }
// random()

// //ques16
// async function multiple(){
//     let a= new Promise((resolve, reject) => {
//         setTimeout(() => {
//             resolve(50)
//         }, 1000);
//     })
//     let b= await a
//     return b
// }
// multiple().then(value=>{
//     let a= value*2
//     console.log(a+ " sol16")
// })


// //ques18
// async function factorial(n){
//     let prod= 1;
//     await new Promise((resolve, reject) => {
//     // let n= 5;
//     for(let i=1; i<=n; i++){
//         prod*=i
//     }
// resolve()
//     // console.log(prod + " sol17")
//     })
//     return prod
// }
// factorial(5).then(value=>{
//     console.log(value + " sol18")
// })

// //ques19
// async function sol19(){
//  let value= await new Promise((resolve, reject) => {
//   resolve(25)
// })
// return value
// }
// sol19().then(value=>{
//     let a= Number.parseInt(value)
//     let b= a-5
//     console.log( b + " sol19")
// }).catch(err=>{
//     console.log(err)
// })

// //ques20
// async function sol20(){
//     let a= Math.floor(Math.random()*10);
//     let b= Math.floor(Math.random()*100);
//     let c= await new Promise((resolve, reject) => {
//     resolve(a+b)
//     })
//     return a,b,c
// }
// sol20().then(value=>{
//     console.log(value + " sol20")

// })

// //ques21
// async function sol21(){
//     let prom= await  new Promise((resolve, reject) => {
//         setTimeout(() => {
//             let a= Math.floor(Math.random()*20  + 10)
//             resolve(a)
//         }, 2000);
//     })
//     return prom
// }
// sol21().then(value=>{
//     let a= Number.parseInt(value)
//     let b= value*3
//     console.log(b+  " sol21")
// })

// //ques22
// function calculateAsync(n){
//     return new Promise((resolve, reject) => {
//         setTimeout(() => {
//             resolve(n*n)
//         }, 1500);
//     })
// }
// async function cA(){
//     let a= await calculateAsync(4)
//     console.log(a + " sol22")
// }
// cA()

//date-18june
//ques1
// let p1= new Promise((resolve, reject) => {
//     resolve(1);
// });
// let p2= new Promise((resolve, reject) => {
//     resolve(2);
// });
// let p3= new Promise((resolve, reject) => {
//     resolve(3);
// });
// let p4= Promise.all([p1, p2, p3]);
// p4.then(value=>{
//     console.log(value);
// });

// //ques2
// let pro1= new Promise((resolve, reject) => {
//     setTimeout(() => {
//         resolve(1);
//     }, 1000);
// });
// let pro2= new Promise((resolve, reject) => {
//     setTimeout(() => {
//         resolve(2);
//     }, 2000);
// });
// let pro3= new Promise((resolve, reject) => {
//     setTimeout(() => {
//         resolve(3);
//     }, 3000);
// });
// let pro4= new Promise((resolve, reject) => {
//     setTimeout(() => {
//         resolve(4);
//     }, 4000);
// });
// let pro5= Promise.all([pro1, pro2, pro3, pro4]);
// pro5.then(value=>{
//     console.log(value);
// });

// //ques3
// let prom=new Promise((resolve, reject) => {
//     setTimeout(() => {
//         resolve(10);
//     }, 1000);
// });
// prom.then(value=>{
//     console.log(value);//output:- 10
// })
// // .then(value=>{
// //     console.log(value);//output:-undefined
// // })

// //ques4
// let prom1= new Promise((resolve, reject) => {
//     resolve(5);
// })
// let prom2= prom1.then(value=>{
//     return new Promise((resolve, reject) => {
//         resolve(value*2);
//     })
    
// })
// prom2.then(r=>{
//     console.log(r);
// })

// //ques5
//     let prms1= new Promise((resolve, reject) => {
//     setTimeout(() => {
//         resolve(7);
//     }, 1000);
// })
// let prms2= new Promise((resolve, reject) => {
// reject("promise failed");
// });
// Promise.all([prms1, prms2])
// .then(val=>{
//     console.log(val)
// }).catch(err=>{
//     console.log(err)
// })//promise failed- output


// //ques6
// function calc(a,b){
//     return new Promise((resolve, reject) => {
//         resolve(a+b);
//     })
    
// }
// calc(13,5).then(value=>{
//     console.log(value + " sol6");
// })

// //ques7
// // let sol7= new Promise((resolve, reject) => {
// //         setTimeout(() => {
// //             reject("failed");
// //         }, 2000);
// //     })
// // sol7.catch(err=>{
// //     console.log(err+ " sol7"); //output:- failed sol7
// // })

// async function promise(){
// try{await new Promise((resolve, reject) => {
//     setTimeout(() => {
//         reject("failed")
//     }, 2000);
// })}catch(err){
//     console.log(err + " sol7")
// }
// }
// promise();//output:- failed sol7

// //ques8
// let sol8= new Promise((resolve, reject) => {
//     resolve(20);
// });
// sol8.then(value=>{
//     console.log(value + "sol8");
// }).catch(err=>{
//     console.log(err + "sol8");
// });

// //ques10
// let sol10= new Promise((resolve, reject) => {
//     resolve(15);
// });
// sol10.then(value=>{
//     console.log(value + "sol10");
// }).catch(err=>{
//     console.log(err + "sol10");
// }).finally(()=>{
//     console.log("operation complete")
// })
// // What will be logged before "Operation complete"?----nothing .fnally print 1st then .then handler value printed.

// //ques11
// let sol11= new Promise((resolve, reject) => {
//     setTimeout(() => {
//         resolve(25);
//     }, 3000);
// });
// sol11.then(val=>{
//     console.log(val + "sol11");
// }).finally(()=>{
//     console.log("done");
// });
// //done and then after 3 sec- 25sol11;

// //ques9
// function trow(n){
//     if(n.type !== Number){
//         throw new Error("invalid number  sol9")
//     }
// }
// try {
//     trow(true)
// } catch (error) {
//     console.log("error in function - sol9")
// }

// //ques12
// let ps1= new Promise((resolve, reject) => {
//     resolve(5);
// });
// let ps2= new Promise((resolve, reject) => {
//     reject("error");
// });
// let ps3= new Promise((resolve, reject) => {
//     resolve(10);
// });
// let ps4=Promise.allSettled([ps1,ps2,ps3]);
// ps4.then(val=>{
//     console.log(val)
// })

// //ques13
// function multiple(a,b){
//     return new Promise((resolve, reject) => {
//     resolve(a*b)
//     })
// }
// let sol13=multiple(3, "hlo");
// sol13.then(val=>{
//     console.log(val + " sol13");
// })
// .catch(err=>{
//     console.log("enter 2 no.  sol13");
// });

// //ques14
// let sol14= new Promise((resolve, reject) => {
//     setTimeout(() => {
//         reject("operation failed")
//     }, 2000);
// })
// sol14.catch(err=>{
//     console.log(err+ " promise rejected sol14")
// })

// //ques15
// let sol15= Promise.any([p1,p2,p3])
// sol15.then(value=>{
//     console.log(value+ " sol15")
// })//p1 will print

// //ques16
// function division(a,b){
//     return new Promise((resolve, reject) => {
//     if(b===0){
//         reject("cann't divide by 0")
//     }
//     else{
//         resolve(a/b)
//     }
//     })
// }
// let sol16=division(10 , 0);
// sol16.then(val=>{
//     console.log(val + " sol16");
// })
// .catch(err=>{
//     console.log("enter non- zero no.  sol16");
// });
// // console.log("sol16" , division(4,7))

// //ques17
// function sol17(){
//     return new Promise((resolve, reject) => {
//         resolve(30);
//     })
// }
// sol17().then(val=>{
//     let a= val/5;
//     console.log(a, "sol17");
//     return a
// }).then(res=>{
//     let b= res*2
//     console.log(b, res, "sol17")
// })

// //ques18
// let sol18= new Promise((resolve, reject) => {
//     resolve(50);
// })
// sol18.then(val=>{
//     console.log(val, "sol18")
// }).catch(err=>{
//     console.log("sol18", err)
// })

// //ques19
// let sol19=new Promise((resolve, reject) => {
//     let obj={
//         code:"vg78",
//         message:"i am sol19"
//     }
//     reject(obj)
// })
// sol19.then(val=>{
//     console.log(val)
// }).catch(err=>{
//     console.log(err, `Error Code: ${err.code}, message: ${err.message}`)
// })

//22june
//fetch apis
//ques1
function getPost(){
    let api= fetch("https://jsonplaceholder.typicode.com/posts/1")
    api.then(res=>{
        return res.json()
    }).then(json=>{
        console.log(json)
    }).catch(err=>{
        console.log(err)
    })
}
// getPost()
// function getPost(){
// fetch("https://jsonplaceholder.typicode.com/posts/1")
//     .then(res=> res.json())
//     .then(json=> console.log(json))
//     .catch(err=> console.log(err))//If you have only one statement and you want to implicitly return the result, you can omit the braces.
// }
// getPost()

//ques2
function getErr(){
    let api= fetch("https://jsonplaceholder.typicode.com/posts/invalid-no")
    api.then(res=>{
        if(!res.ok){
            throw new Error(`error status: ${res.status}`)
        }
        return res.json()
    }).then(json=>{
        console.log(json)
    }).catch(err=>{
        console.log("error occured", err.message)
    })
}
// getErr()

//ques3
async function getRes(){
    let api= await fetch("https://jsonplaceholder.typicode.com/posts/1");
    let response= await api.json()
    console.log(response)
}
// getRes()

//ques4
function getErr(){
    let api= fetch("https://jsonplaceholder.typicode.com/posts/invalid-no")
    api.then(res=>{
        if(res.status!==200){
            throw new Error(`Network response was not ok- error status: ${res.status}`)
        }
        return res.json()
    }).then(json=>{
        console.log(json)
    }).catch(err=>{
        console.log("error occured", err)
    })
}
// getErr()

//ques5
async function sol5(){
try {
    let api= await fetch("https://jsonplaceholder.typicode.com/posts");
    if(!api.ok){
        throw new Error("something went wrong" `${api.status}`)
    }
    let response= await api.json()
    let fter= response.filter(post=> post.userId===1);
    console.log(fter)
    // console.log(response)
} catch (error) {
    console.log(error.message)
}
}
// sol5()

//ques6
function sol6(){
    let options={
        method:"POST",
        headers:{
            "Content-Type":"application/json",
        },
        body:JSON.stringify({
        userId:7007,
        title:"ilisha7",
        body:"i am a post reques of sol6"
    })
    }
let api= fetch("https://jsonplaceholder.typicode.com/posts", options)
api.then(res=> res.json())
.then(data=> console.log(data))
.catch(err=>console.log(err))
}
// sol6()

//ques7
async function sol7(){
try {
    let options={
        method:"POST",
        headers:{
            "Content-Type":"application/json",
        },
        body:JSON.stringify({
        userId:7007,
        title:"ilisha7",
        body:"i am a post reques of sol6"
    })
    }

    let api= await fetch("https://jsonplaceholder.typicode.com/posts", options)
    let response= await api.json(); //we should also await wait paarsing json method.
    console.log(response)
    
} catch (error) {
    console.log("error:", error)
}
}
// sol7()

//ques8
function crtPost(title, body, userId){
return new Promise((resolve, reject) => {
    if(!title || !body || !userId){
        reject("all fields are required")
    }
    else{
        let options={
        method:"POST",
        headers:{
            "Content-Type":"application/json"
        },
        body:JSON.stringify({title,body,userId})
    }
    return fetch("https://jsonplaceholder.typicode.com/posts", options)
    .then(val=>val.json())
    .then(data=>console.log(data))
    .catch(err=> console.log(err))
    }
})
}
// crtPost("ilisha", "i am sol8", 200)
// .then(res=>console.log(res))
// .catch(err=>console.log(err))

//ques9
function sol9(){
    let urls=[
        "https://jsonplaceholder.typicode.com/posts/1",
        "https://jsonplaceholder.typicode.com/posts/2",
        "https://jsonplaceholder.typicode.com/posts/3",
        "https://jsonplaceholder.typicode.com/posts/4",
        "https://jsonplaceholder.typicode.com/posts/5"
    ];
    Promise.all(urls.map(url=>fetch(url).then(res=>res.json())))
    .then(data=>console.log(data)).catch(err=>console.log(err))
}
// sol9()

//ques10
function sol10(){
    let api= fetch("https://jsonplaceholder.typicode.com/posts/7")
    .then(res=> res.json())
    .then(data=> {
        let crtElm= document.createElement("div");
crtElm.innerHTML=`
<h2>${data.title}</h2><br>
<div>${data.body}</div>
`;
document.body.appendChild(crtElm);
    })
    .catch(err=> console.log(err))
}
sol10()






    </script>
</body>
</html>